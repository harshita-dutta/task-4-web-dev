<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration form</title>
    <link rel="stylesheet" href="formStyle.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&family=Quantico:wght@400;700&family=Redressed&display=swap" rel="stylesheet">
    <style>
        .register,#submit{
            position: relative;
            left:25%;
            width:50%;
        }
        #submit{
            width: 50%;
        }
    </style>
</head>
<body>
</body>
    <h1>
        Registration form
    </h1>
    <form action="" class="register">
        <div class="collegeName" id="coln">
          <label for="heading">Select College: </label>
          <br>
          <div class="options">
              <div class="form-check">
                  <input class="form-check-input" type="radio" name="college" id="vit" value="VIT" checked>
                  <label class="form-check-label" for="vit">
                    VIT
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="college" id="other" value="OTHER" onclick="x()">
                  <label class="form-check-label" for="other">
                    Other 
                  </label>
                </div>
                
          </div>
      </div>
        
        <div class="inputFields">
            <div class="mb-3">
                <label for="nameInput" class="form-label">Name </label>
                <input type="text" class="form-control" id="nameInput" placeholder="Type your full name">
              </div>
        </div>
        <div class="inputFields">    
            <div class="mb-3">
                <label for="emailInput" class="form-label">Email address</label>
                <input type="email" name="email" class="form-control" id="emailInput" placeholder="name@example.com" required>
              </div>

        </div>
        <div class="inputFields">
            <label for="phNoInput" class="form-label">Phone Number</label>
            <div class="input-group mb-3">
                <span class="input-group-text">+91</span>
                <input type="tel" name="phoneNumber" id="phNoInput" aria-label="Mobile Number" class="form-control" required>
            </div>

        </div>
    </form>
    <br>
    <br> 
    <button id="submit" class="btn btn-primary">Submit</button>

    <a href="#myModal" class="btn btn-lg btn-success" data-bs-toggle="modal" id="submit">Register Now!</a>
    <div id="myModal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
          <div class="modal-header">
                    <h5 class="modal-title"> Thank you for registering!</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
      
            </div>
        </div>
    </div>
    
</body>
<script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-auth-compat.js"></script>
<script>
     const firebaseConfig = firebase.initializeApp({
    apiKey: "AIzaSyB5dz82Olwh6Gezuw9GAsqIZesgOVTDCWg",
    authDomain: "events-59546.firebaseapp.com",
    projectId: "events-59546",
    storageBucket: "events-59546.appspot.com",
    messagingSenderId: "397686800845",
    appId: "1:397686800845:web:2c6923eb39003f8d754484",
    measurementId: "G-B6N0NF8RG1"
  });
  const db = firebaseConfig.firestore();
const auth = firebaseConfig.auth();
</script>
<script>
    let count=0;
    let x=0;
    let r;
    let p;
    document.getElementById("other").onclick=function()
    {
        count=count+1;
        if(count<=1)
        {
        let g = document.createElement("div");
        g.className = "mb-3";
        r=document.createElement("input");
        r.id="x";
        r.className = "form-control"
        r.type="text";
        r.placeholder="Enter the college name";
        g.appendChild(r);
        document.getElementById("coln").appendChild(g);
        
        }
    }
    document.getElementById("vit").onclick=function()
    {
        count=0;
       document.getElementById("x").remove();
       p="VIT";
    }
    document.getElementById("submit").onclick=function()
    {
        if(document.getElementById("nameInput").value=="" || document.getElementById("emailInput").value==""|| document.getElementById("phNoInput").value=="")
        {
            alert("Please enter all values");
        }
        else
        {
    let a=document.getElementById("nameInput").value;
    let b=document.getElementById("emailInput").value;
    let c=document.getElementById("phNoInput").value;
    if(document.getElementById("vit").checked)
    {
        p="VIT";
    }
    else
    {
        p=document.getElementById("x").value;
    }
    db.collection("Reg").add({
        Name:a,
        Email:b,
        PhoneNumber:c,
        CollegeName:p
    }).then((docref)=>
    {
        document.getElementById("nameInput").value="";
        document.getElementById("emailInput").value="";
        document.getElementById("phNoInput").value="";
        if(document.getElementById("x") == null){
            console.log("Its null")
        }
        else{
        document.getElementById("x").value="";
        }
        console.log("Information Saved");
        alert("Thank you for registering");

    })
    .catch((error)=>
    {
        console.error("Error",error);
    })
    }
}
</script>
</html>
